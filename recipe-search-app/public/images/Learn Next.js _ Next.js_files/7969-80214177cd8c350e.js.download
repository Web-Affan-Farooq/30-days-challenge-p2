(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7969],{68902:(e,t,r)=>{"use strict";r.d(t,{u:()=>d});var i=r(91437),n=r(92120),o=r(90551);function a(e){let t=["h1","h2","h3","h4","h5","h6","b","strong"].map(e=>document.querySelectorAll(e)),r=[];t.forEach(t=>{t.forEach(t=>{let i=function(e,t){function r(e){let t=[],r=e;for(;r;)t.push(r),r=r.parentNode;return t}let i=r(e),n=r(t),o=null;for(let e=0;e<i.length&&!o;e++)n.includes(i[e])&&(o=i[e]);let a=0,s=e;for(;s!==o&&s;)s=s.parentNode,a++;let c=0;for(s=t;s!==o&&s;)s=s.parentNode,c++;return a+c}(e,t),n=function(e,t){let r=e.getBoundingClientRect(),i=t.getBoundingClientRect(),n=r.left+r.width/2,o=r.top+r.height/2,a=Math.sqrt((i.left+i.width/2-n)**2+(i.top+i.height/2-o)**2);return 0===a?1:a}(e,t),o=Number.parseInt(window.getComputedStyle(t).fontSize);r.push({tag:t.tagName,text:t.textContent,fontSize:o,domDistance:i,physicalDistance:n,score:0})})}),r.forEach(e=>{let t=1/(e.domDistance+1),r=1/(e.physicalDistance+1);e.score=2*t+1*r}),r.sort((e,t)=>t.score-e.score);let i=r[0];return l(i?.text??"Unknown")}function s(e){return e.includes("rgb")?function(e){let[t,r,i]=e.replace("rgb(","").replace(")","").split(",").map(e=>Number(e).toString(16).padStart(2,"0"));return`#${t?.toUpperCase()}${r?.toUpperCase()}${i?.toUpperCase()}`}(e):e}function c(e){let t=e.textContent;if(""!==t&&t||(t=e.ariaLabel??void 0),!t)return;let r="";for(let e=0;e<t.length;e++){let i=t[e]??"",n=t[e+1]??"";if(!/[a-z]/i.exec(i)||!/[a-z]/i.exec(n)){r+=i;continue}if(i===i.toLowerCase()&&n===n.toUpperCase()){r+=`${t[e]}, `;continue}r+=t[e]}return l(t=r)}function l(e){let t=e.replace(/\s+/g," ").trim();return t.length>100?`${t.slice(0,100)}...`:t}function d(e){let{analytics:t,active:r=!0,events:l=["click","hover","focus"]}=e,d=(0,n.usePathname)(),[u,p]=(0,i.useState)(new Set);(0,i.useEffect)(()=>{let e=()=>{"undefined"!=typeof document&&p(new Set([...document.querySelectorAll("[data-track]"),...document.querySelectorAll("[data-track-intent]")]))},t=null,r=setTimeout(()=>{e(),(t=new MutationObserver(t=>{let r=!1;t.forEach(e=>{"childList"===e.type&&[...e.addedNodes,...e.removedNodes].forEach(e=>{e instanceof Element&&(e.matches("[data-track], [data-track-intent]")||e.querySelector("[data-track], [data-track-intent]"))&&(r=!0)})}),r&&e()})).observe(document.body,{childList:!0,subtree:!0})},200);return()=>{clearTimeout(r),t&&t.disconnect()}},[d]),(0,i.useEffect)(()=>{if("undefined"==typeof document)return;async function e(e,i){if(await new Promise(e=>{setTimeout(e,100),requestAnimationFrame(()=>{setTimeout(e,0)})}),!r||!i.target)return;let n=i.target.closest("[data-track], [data-track-intent]");if(!n)return;let l=n.getAttribute("data-track-context")??a(n);n.setAttribute("data-track-context",l);let d=n.getAttribute("data-track-intent")??void 0,u=window.getComputedStyle(n),p=Number.parseInt(u.fontSize),f=n.getAttribute("data-track-click-name")||l,h=n.getAttribute("data-track-click-value")||d,g={text:n.getAttribute("data-track-text")||c(n),tag:n.tagName,intent:d,fontSize:p,context:l,width:n.clientWidth,height:n.clientHeight,color:s(u.color),ctaSize:function(e){let t=e.clientHeight;return t<=24?"tiny":t<=32?"small":t<=40?"medium":"large"}(n),backgroundColor:s(u.backgroundColor),...n instanceof HTMLAnchorElement&&n.href&&{href:n.href},..."Click"===e&&f&&{click_name:f},..."Click"===e&&h&&{click_value:h}},v={Hover:o.X.HOVER_ELEMENT,Click:o.X.CLICK_ELEMENT,Focus:o.X.FOCUS_ELEMENT}[e];t.track(v,g)}let i=t=>{e("Click",t)},n=t=>{e("Hover",t)},d=t=>{e("Focus",t)};return u.forEach(e=>{l.includes("click")&&e.addEventListener("click",i),l.includes("hover")&&e.addEventListener("mouseenter",n),l.includes("focus")&&e.addEventListener("focus",d,!0)}),()=>{u.forEach(e=>{l.includes("click")&&e.removeEventListener("click",i),l.includes("hover")&&e.removeEventListener("mouseenter",n),l.includes("focus")&&e.removeEventListener("focus",d,!0)})}},[r,t,u,l]);let[f,h]=(0,i.useState)(!1);(0,i.useEffect)(()=>{if("undefined"==typeof document)return;let e=e=>{e.ctrlKey&&e.shiftKey&&"a"===e.key.toLowerCase()&&h(e=>!e)};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[u]),(0,i.useEffect)(()=>{f?(u.forEach(e=>{let t=e.getAttribute("data-track-intent"),r=e.getAttribute("data-track-context")||a(e),i=e.getAttribute("data-track-text")||c(e);e.setAttribute("data-track-debug",`Intent: ${t}
Context: ${r}
Text: ${i}`)}),document.documentElement.classList.add("view-analytics")):document.documentElement.classList.remove("view-analytics")},[f,u])}r(64719)},7969:(e,t,r)=>{"use strict";r.d(t,{XN:()=>I.wZ,zS:()=>M,uF:()=>T.u});var i=r(16249),n=function(e){return e.Heap="Heap",e.Koala="Koala",e.Vercel="Vercel",e.Algolia="Algolia",e.Test="Test",e}({});let o=!!r(73124).env.CI,a=e=>!!s(e)&&(e instanceof Error||function e(t){if("[object Error]"===Object.prototype.toString.call(t))return!0;let r=Object.getPrototypeOf(t);return null!==r&&e(r)}(e)),s=e=>"object"==typeof e&&null!==e&&!Array.isArray(e);r(73124);var c=function(e){return e.Service="Service",e.Providers="Providers",e}({});let l={error:function(e,t,r){if(!o){console.error(`analytics error: ${t}`);return}},warn:function(e,t,r){},debug:function(e,t){for(var r=arguments.length,i=Array(r>2?r-2:0),n=2;n<r;n++)i[n-2]=arguments[n]}};class d{#e;#t;constructor(e){this.#e=new Map,this.#t=e,this.logCreation()}track(e,t){let r={};for(let[e,t]of this.#e.entries())r[e]=t.id;this.executeOnProviders("track",{event:e,properties:{...t,...r}})}addScope(e){let{managedByHook:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=d.scopeName(e),i=this.#e.get(r);d.guardAgainstBadScopeManagement({scope:i,managedByHook:t,action:"add"}),this.#e.set(r,{id:crypto.randomUUID(),managedByHook:t})}removeScope(e){let{managedByHook:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=d.scopeName(e),i=this.#e.get(r);return d.guardAgainstBadScopeManagement({scope:i,managedByHook:t,action:"remove"}),this.#e.delete(r)}resetScope(e){let t=d.scopeName(e);this.#e.set(t,{id:crypto.randomUUID(),managedByHook:this.#e.get(t)?.managedByHook??!1})}executeOnProvider(e,t){for(var r=arguments.length,i=Array(r>2?r-2:0),n=2;n<r;n++)i[n-2]=arguments[n];let o=this.#t.find(t=>t.id===e);if(!o)return l.warn(c.Service,`'${e}' not found when attempting to execute '${t}'. To execute '${t}', you will need to supply the '${e}' with '${t}' implemented. Returning null.`,{}),null;let a=o.actions[t];if(!a)return l.warn(c.Service,`'${t}' not found implemented by '${o.id}', but was called. Returning null`,{}),null;try{return l.debug(c.Service,`Executed '${t}' on '${o.id}' with args:`,i),a(...i)}catch(e){return l.error(`Failed to run '${t}' on ${o.id} provider`,`Action failed to run on ${o.id}`,e),null}}executeOnProviders(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];let n=[];if(this.#t.forEach(t=>{let i=t.actions[e];if(i){try{i(...r)}catch(i){l.error(`Failed to run '${e}' on ${t.id} provider with args ${JSON.stringify(r)}`,`Action failed to run on ${t.id}`,i)}n.push(t.id)}}),0===n.length){l.warn(c.Service,`NO OP, No providers found when executing '${e}'. To execute '${e}', you will need to supply a provider with '${e}' implemented.`);return}l.debug(c.Service,`Executed '${e}' for provider${n.length>1?"s":""}: ${n.join(", ")} with args`,r)}identify(e,t){this.executeOnProviders("identify",e,t)}reset(){this.executeOnProviders("reset")}setPersistedGlobalProperties(e){this.executeOnProviders("setPersistedGlobalProperties",e)}clearPersistedGlobalProperties(){this.executeOnProviders("clearPersistedGlobalProperties")}setGlobalProperties(e){this.executeOnProviders("setGlobalProperties",e)}setTraits(e){this.executeOnProviders("setTraits",e)}enabled(e){if(!e)return this.#t.every(e=>e.enabled);let t=this.#t.find(t=>t.id===e);return!!t&&t.enabled}getDisabledProviders(){return this.#t.filter(e=>!e.enabled)}setKoalaAutocapture(e){this.executeOnProvider(n.Koala,"setKoalaAutocapture",e)}getAlgoliaClient(){let e=this.executeOnProvider(n.Algolia,"getAlgoliaClient");if(!e)throw Error("Algolia client not found. If you wish to use algolia please provide an Algolia provider when creating your analytics service.");return e}getAnonymousId(){return this.executeOnProvider(n.Heap,"getAnonymousId")}getScripts(e,t){let r=this.getDisabledProviders();if(l.debug(c.Service,"Loading analytics scripts..."),r.length>0){let e=r.map(e=>e.id).join(", ");l.debug(c.Service,`Found disabled providers when creating analytics scripts: ${e}. Read the README.md in @vercel/site-analytics for more information on why these providers may be disabled.`)}return(0,i.jsx)(i.Fragment,{children:this.#t.map(r=>{let i=`Excluding provider '${r.id}' from 'getScripts' function`;return r.Script?r.enabled?e.includes(r.category)?t&&t.includes(r.id)?(l.debug(c.Service,`${i} because it was explicitly excluded from the 'getScripts' function.`),null):r.Script:(l.debug(c.Service,`${i} because it's category '${r.category}' is not included in the categories provided to 'getScripts' function.`),null):(l.debug(c.Service,`${i} because it not enabled.`),null):null})})}getAllCookies(){let e=[];return this.#t.forEach(t=>{t.cookies&&e.push(...t.cookies)}),e}getAllCookiesMappedToConsentCategory(){let e=new Map;return this.#t.forEach(t=>{t.cookies&&t.cookies.forEach(r=>{e.set(r,t.category)})}),e}getProvidersDebugInfo(){return Object.fromEntries(this.#t.map(e=>[["enabled",e.enabled],["actions",Object.keys(e.actions)]]))}logCreation(){l.debug(c.Service,`Analytics service created with providers: ${this.#t.map(e=>`'${e.id}'`).join(", ")}. Of those, the following are disabled: ${this.getDisabledProviders().length?this.getDisabledProviders().map(e=>`'${e.id}'`).join(", "):"All providers are enabled"}.
        `,{providers:this.getProvidersDebugInfo()})}static scopeName(e){return`scope-${e}`}static guardAgainstBadScopeManagement(e){let{scope:t,managedByHook:r,action:i}=e;t&&t.managedByHook}}var u=r(68853);function p(e){let{appId:t}=e,r=`window.heap=window.heap||[],heap.load=function(e,t){window.heap.appid=e,window.heap.config=t=t||{};var r=document.createElement("script");r.type="text/javascript",r.async=!0,r.src="/_stream/external/cdn.heapanalytics.com/js/heap-"+e+".js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(r,a);for(var n=function(e){return function(){heap.push([e].concat(Array.prototype.slice.call(arguments,0)))}},p=["addEventProperties","addUserProperties","clearEventProperties","identify","resetIdentity","removeEventProperty","setEventProperties","track","unsetEventProperty"],o=0;o<p.length;o++)heap[p[o]]=n(p[o])}; heap.load("${t}");`;return(0,i.jsx)(u.default,{dangerouslySetInnerHTML:{__html:r},id:"script-heap-analytics",strategy:"lazyOnload"},"script-heap-analytics")}r(73124);let f=["_hp2_props\\.\\d+","_hp2_ses_props\\.\\d+","_hp2_id\\.\\d+"],h=["email","ip","phone"],g={},v=[],m=null,y=null,k={},E={addEventProperties:e=>{k={...e},l.debug(c.Providers,"Heap Mock: heap.addEventProperties",{...e,...k})},clearEventProperties:()=>{k={},l.debug(c.Providers,"Heap Mock: heap.clearEventProperties")},identify:e=>l.debug(c.Providers,"Heap Mock: heap.identify",e),resetIdentity:()=>{k={},l.debug(c.Providers,"Heap Mock: heap.resetIdentity")},track:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return l.debug(c.Providers,"Heap Mock: heap.track",...t)}};async function w(e){let{condition:t,onConditionMet:r,onTimeout:i,interval:n=250,maxAttempts:o=32}=e;return new Promise(e=>{let a=0,s=async()=>{await t()?(r&&await r(),e()):++a>=o?(i&&i(),e()):setTimeout(()=>{s()},n)};s()})}function b(e){let{slug:t}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u.default,{dangerouslySetInnerHTML:{__html:'!function(t){if(window.ko)return;window.ko=[],["identify","track", "removeListeners", "open", "on", "off", "qualify", "ready"].forEach(function(t){ko[t]=function(){var n=[].slice.call(arguments);return n.unshift(t),ko.push(n),ko}});}();'},id:"script-koala-placeholder"},"script-koala-placeholder"),(0,i.jsx)(u.default,{id:"script-koala-cdn",onReady:()=>{let e=window.ko;e.ready(P),e.on("profile-update",P)},src:`/_stream/external/cdn.koala.live/v1/${t}/sdk.js`},"script-koala-cdn")]})}function P(){w({condition:()=>!!(window.heap&&(window.ko?.profile?.user.id||window.ko?.profile?.qualification?.account_score?.fit_grade_letter)),onConditionMet:()=>{let e=window.ko.profile.user.id,t=window.ko.profile.qualification?.account_score?.fit_grade_letter;window.heap.addUserProperties({...e?{koala_user_id:e}:{},...t?{koala_fit_grade_letter:t}:{}})}})}function A(e){if(!e||Array.isArray(e))return;let t="Koala `identify` call in `setTraits` failed for an unknown reason.";"string"==typeof e?t=e:a(e)&&(t=e.message),l.warn(c.Service,t)}r(73124);let S=["ko_sid","ko_id"],C={initialized:!1,identify:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return l.debug(c.Providers,"Koala Mock: koala.identify",...t),Promise.resolve(void 0)},track:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return l.debug(c.Providers,"Koala Mock: koala.track",...t),Promise.resolve(void 0)},ready:e=>e(),startAutocapture:()=>{l.debug(c.Providers,"Koala Mock: koala.startAutocapture")},stopAutocapture:()=>{l.debug(c.Providers,"Koala Mock: koala.stopAutocapture")},profile:void 0};var _=r(2236),$=r.n(_),x=r(18608),I=r(62113),T=r(68902);let M=new d([function(e){let{appId:t}=e;function r(){return window.heap?window.heap:E}return{id:n.Heap,enabled:!0,cookies:f,category:"analytics",actions:{identify:function(e){r().identity!==e&&r().identify(e)},track:function(e){let{event:t,properties:i}=e,n={...i,...i?h.reduce((e,t)=>(t in i&&(e[t]="REDACTED"),e),{}):{}};r().track(t,n),function(e){let{event:t,properties:i}=e;window.heap||(v.push({event:t,properties:i}),m&&clearInterval(m),m=setInterval(()=>{if(window.heap){for(let e of(m&&clearInterval(m),v))r().track(e.event,e.properties);v.length,v.splice(0,v.length)}},250))}({event:t,properties:n})},setPersistedGlobalProperties:function(e){g={...e.experimentParameters},r().addEventProperties({...g})},clearPersistedGlobalProperties:function(){g={}},setGlobalProperties:function(e){y&&clearInterval(y),y=setInterval(()=>{window.heap&&(y&&clearInterval(y),r().clearEventProperties(),r().addEventProperties({...g,isLoggedIn:e.isLoggedIn,isVercelian:e.isVercelian,isVercelianEncoded:e.isVercelian.toString(),...e.plan&&{"Subscription Plan":e.plan},...e.role&&{Role:e.role},...e.teamId&&{"Team Id":e.teamId},...e.isTrial&&{"Is Trial":e.isTrial},userVersion:e.userVersion,userDefaultTeamId:e.userDefaultTeamId,...e.firmographicScore&&{firmographicScore:e.firmographicScore}}))},250)},getAnonymousId:function(){return r().userId},reset:()=>{r().resetIdentity()}},Script:(0,i.jsx)(p,{appId:t.prod},"script-heap-analytics")}}({appId:{prod:"3987253934",dev:"624982907"}}),function(e){let{slug:t}=e;function r(){return window.ko??C}function o(e){try{Promise.resolve("string"==typeof e?function(e){if(!r().profile||r().profile?.user.id!==e)return r().identify({id:e})}(e):function(e){let{userId:t,...i}=e;return r().identify({...i,id:t})}(e)).catch(A)}catch(e){A(e)}}return{id:n.Koala,enabled:!0,cookies:S,category:"analytics",actions:{identify:(e,t)=>{if(t)return o(t)},track:function(e){let{event:t,properties:i}=e,{context:n,intent:o,text:a}=i;n&&o?r().track(`${t} ${n}${a?` ${a}`:""}`,i):r().track(t,i)},setTraits:function(e){return o(e)},setKoalaAutocapture:function e(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!(i>5)){if(!r().initialized){setTimeout(()=>{e(t,i+1)},2e3);return}t?r().startAutocapture():r().stopAutocapture()}}},Script:(0,i.jsx)(b,{slug:t.prod},"script-koala-analytics-group")}}({slug:{dev:"vercel-dev",prod:"vercel"}}),{id:n.Vercel,enabled:!0,category:"essential",actions:{track:function(e){let{event:t,properties:r}=e;(0,x.u4)(t,r?$()(r):void 0)}}}])},90551:(e,t,r)=>{"use strict";r.d(t,{X:()=>i});var i=function(e){return e.CLICK_EVENT="Clicked a button or link",e.EXPERIMENT_VIEWED="Experiment Viewed",e.FEEDBACK_SUBMITTED="Feedback Submitted",e.CLICK_ELEMENT="Click Element",e.HOVER_ELEMENT="Hover Element",e.FOCUS_ELEMENT="Focus Element",e}({})},62113:(e,t,r)=>{"use strict";r.d(t,{wZ:()=>o});var i=r(90551),n=function(e){return e.GAME_STARTED="Game started",e.GAME_CATEGORY_COMPLETE="Game category complete",e.GAME_WON="Game won",e.REGISTRATION_COMPLETE="Registration complete",e.COMMAND_RABBIT="Command Rabbit",e.COMMAND_VERCEL="Command Vercel",e.COMMAND_SANITY="Command Sanity",e.VIEW_STREAM="Viewed stream",e}({});let o={...i.X,...n}},64719:()=>{}}]);